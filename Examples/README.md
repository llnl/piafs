# PIAFS Examples

## Overview

This directory contains ready-to-run examples for various physical models and dimensionalities. Each example demonstrates different capabilities of the PIAFS solver and provides validation test cases.

## Example Categories

### 1D Euler Equations
- **BeamInducedDensityMod** - Beam-induced density modulation with photo-chemical heating
- **DensitySineWave** - Density wave advection with exact solution
- **LaxShockTube** - Lax's shock tube problem
- **PressurePerturbation** - Acoustic wave propagation from pressure perturbation
- **ShuOsherProblem** - Shock-entropy wave interaction
- **SodShockTube** - Sod's shock tube problem

### 2D Navier-Stokes Equations
- **BeamInducedDensityMod_1D_x** - Viscous beam-induced density modulation (1D in x)
- **DensitySineWave** - 2D density wave advection
- **FlatPlateLaminar** - Laminar flat plate boundary layer
- **Inviscid_BeamInducedDensityMod_1D_x** - Inviscid beam-induced density modulation (1D in x)
- **InviscidVortexConvection** - Isentropic vortex convection
- **LidDrivenCavity** - Lid-driven cavity benchmark
- **PressurePerturbation_1D_x** - Pressure perturbation (1D in x)
- **RadialExpansionWave** - Radially symmetric expansion wave
- **Riemann2DCase4** - 2D Riemann problem (Case 4)
- **Uniform_Subsonic_Jet** - Uniform subsonic jet with heating
- **Uniform_Supersonic_Jet** - Uniform supersonic jet with heating

### 3D Navier-Stokes Equations
- **2D_RiemannCase4** - 2D Riemann problem in different planes (XY, XZ, YZ)
- **BeamInducedDensityMod_1D_x** - Beam-induced density modulation (1D in x)
- **DensityFluctuations** - Inviscid advection of density fluctuations
- **DensitySineWave** - Inviscid advection of density wave
- **DNS_IsotropicTurbulenceDecay** - Direct numerical simulation of turbulence decay
- **VortexConvection** - Isentropic vortex convection in different planes (XY, XZ, YZ)

## Initial Solution Generation

Each example directory contains all required input files. The initial solution is typically **not** provided due to file size but can be generated using the provided code in the `aux/` subdirectory.

Typical workflow:
1. Navigate to the example directory
2. Compile the initialization code (e.g., `aux/init.c` or `aux/exact.c`)
3. Run the executable to generate `initial.inp`
4. Run PIAFS with the generated initial solution

See the README.md in each example directory for specific instructions.

## Input Files

Common input files found in each example:
- `solver.inp` - General solver parameters
- `boundary.inp` - Boundary conditions
- `physics.inp` - Physical parameters
- `initial.inp` - Initial solution (generated by aux code)

### Scheme-Specific Input Files

Some examples include additional input files for specific numerical schemes:
- `lusolver.inp` - For compact finite-difference schemes (e.g., CRWENO, HCWENO)
- `weno.inp` - For WENO-type schemes (WENO, CRWENO, HCWENO)
- `chemistry.inp` - For cases with photo-chemical reactions

These scheme-specific files are present only in examples that use them. If you want to run a different case with these schemes, you can copy the appropriate input file from another example. **In the absence of these files, the scheme will execute using default parameters.**

## Running Examples

### Serial Mode
```bash
/path/to/piafs/bin/PIAFS-<compiler>-serial solver.inp
```

### Parallel Mode
```bash
mpiexec -n <nprocs> /path/to/piafs/bin/PIAFS-<compiler>-mpi solver.inp
```

Replace `<compiler>` with your compiler (e.g., `gcc`, `clang`, `intel`) and `<nprocs>` with the number of MPI processes.

## Visualization

### Text Format
If `op_file_format` is set to `text` in `solver.inp`, solutions are written as ASCII text files and can be plotted with:
- Gnuplot
- MATLAB/Octave
- Any plotting tool

### Binary Format
If `op_file_format` is set to `binary`, use the Python scripts in `Examples/Python/plotSolution*.py`:
```bash
export PIAFS_DIR=/path/to/piafs
python Examples/Python/plotSolution1D.py  # for 1D cases
python Examples/Python/plotSolution2D.py  # for 2D cases
python Examples/Python/plotSolution3D.py  # for 3D cases
```

### Tecplot Format
For 2D cases, if `op_file_format` is set to `tecplot2d`, solutions can be visualized in:
- Tecplot
- VisIt

## Converting Binary Output

The `Extras/` directory contains utilities to convert binary output to other formats:
- Binary to text
- Binary to Tecplot format

See `Extras/README` for details.

## Additional Resources

- **Main PIAFS README** - For general information about building and running PIAFS
- **Individual Example README.md** - Each example has detailed documentation
- **Python Scripts** - `Examples/Python/` for plotting binary output

## Getting Help

For questions or issues:
- Check the example-specific README.md
- Review the main PIAFS documentation
- Report issues at: https://github.com/anthropics/piafs/issues (if applicable)
